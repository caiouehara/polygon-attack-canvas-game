!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){s(1),t.exports=s(2)},function(t,e,s){t.exports=s.p+"bundle.min.css"},function(t,e,s){"use strict";s.r(e);class i{constructor(t,e){this.displayGrid=!1,this.posX=t,this.posY=e,this.dx=5,this.dy=5,this.width=125,this.height=125}move(){switch(this.routeType){case 1:this.posX+=this.dx,this.dy=0;break;case 2:this.posY+=this.dy,this.dx=0;break;default:this.posX+=this.dx,this.posY+=this.dy}}}class o{constructor(t,e,s){this.displayGrid=!1,this.posX=t,this.posY=e,this.rad=s,this.dx=5,this.dy=5,this.color="rgb(102, 255, 51, 0.7)",this.routeType=0}move(){switch(this.routeType){case 1:this.posX+=this.dx,this.dy=0;break;case 2:this.posY+=this.dy,this.dx=0;break;default:this.posX+=this.dx,this.posY+=this.dy}}}const r=document.querySelector("canvas");function n(t){const e=[75,25],s=Math.random()*r.width,a=Math.random()*r.height,h=Math.random()*(e[0]-e[1])+e[1],p=(new i).width,d=l(c.player.posX,c.player.posY,s,a);let u=!1;switch(t){case"enemy":(u=d>25+c.player.width+h)?c.enemys.push(new o(s,a,h)):n("enemy"),function(){for(let t in c.enemys){const e=c.enemys[t];e.routeType=t%5==0?0:t%2==0?1:2}}();break;case"banana":(u=d>25+c.player.width+p)?c.bananas.push(new i(s,a)):n("banana")}}function a(t,e,s){e&&s||(e=5,s=5);for(let t of c.enemys)t.dx=0,t.dy=0;setTimeout(()=>{for(let t of c.enemys)t.dx=e,t.dy=s},t)}function h(){this.posX<=0&&(this.posX+=this.dx+0),this.posX>=r.width-this.width&&(this.posX-=this.dx+0),this.posY<=0&&(this.posY+=this.dy+0),this.posY>=r.height-this.height&&(this.posY-=this.dy+0)}function p(t,e){l(c.player.posX+c.player.height/2,c.player.posY+c.player.height/2,this.posX,this.posY)<t+c.player.width/2&&(e?e():(this.color="red",c.stop()))}function d(){(this.posX>r.width||this.posX<0)&&(this.dx=-this.dx),(this.posY>r.height||this.posY<0)&&(this.dy=-this.dy)}function l(t,e,s,i){let o=s-t,r=i-e;return Math.sqrt(o**2+r**2)}var c={running:!1,user:{points:10,pointsReward:30},hud:{displayGrid:!1,scoreHistory:[]},player:{posX:50,posY:50,dx:10,dy:10,width:50,height:50,color:"white"},enemys:[],bananas:[],update(){h.call(this.player);for(let t of this.enemys)d.call(t),p.call(t,t.rad),t.move();for(let t of this.bananas)p.call(t,t.width,()=>{a(500)}),d.call(t),t.move()},start(){this.running=!0,n("enemy"),this.pointTimer=setInterval(()=>{let t=this.user.points%100==0,e=this.user.points%200==0;this.user.points+=this.user.pointsReward,t&&(n("enemy"),this.user.pointsReward),e&&n("banana")},1e3)},handleKeyboard(t){if(this.running)switch(t){case"w":this.player.posY-=this.player.dy;break;case"s":this.player.posY+=this.player.dy;break;case"a":this.player.posX-=this.player.dx;break;case"d":this.player.posX+=this.player.dx}},stop(){this.running=!1,clearInterval(this.pointTimer),this.hud.scoreHistory.push(`<p> Score: ${this.user.points} </p>`),this.user={points:10,pointsReward:30},this.enemys=[],this.bananas=[],this.player.posX=0,this.player.posY=0}};const u=document.querySelector("canvas"),y=document.querySelector("#button-start"),f=document.querySelector("#button-display-grid-collision"),m=(document.querySelector("#hud"),document.querySelector("#log")),b=document.querySelector("h2"),g=document.querySelector("#banana-image");let w=u.getContext("2d");function x(t,e){let s=t.posX+t.height/2,i=t.posY+t.height/2;w.beginPath(),w.strokeStyle="white",w.moveTo(e.posX,e.posY),w.lineTo(s,i),w.stroke()}u.width=800,u.height=600,u.style.backgroundColor="black",addEventListener("keydown",t=>{c.handleKeyboard(t.key)}),y.addEventListener("click",()=>{c.running||c.start()}),f.addEventListener("click",()=>{c.hud.displayGrid=!c.hud.displayGrid,c.hud.displayGrid?f.innerHTML="Turn Off":f.innerHTML="Display Grid"}),function t(){requestAnimationFrame(t),w.clearRect(0,0,u.width,u.height),c.update(),b.innerHTML=c.user.points,m.innerHTML=c.hud.scoreHistory.join(" "),function(){w.beginPath(),w.fillStyle=c.player.color,w.fillRect(c.player.posX,c.player.posY,c.player.width,c.player.height);for(let t in c.enemys){const e=c.enemys[t];w.beginPath(),w.fillStyle=e.color,w.arc(e.posX,e.posY,e.rad,0,2*Math.PI),w.fill()}for(let t in c.bananas){const e=c.bananas[t];w.drawImage(g,e.posX,e.posY)}}(),c.hud.displayGrid&&(c.enemys.forEach(t=>{x(c.player,t)}),c.bananas.forEach(t=>{x(c.player,t),w.beginPath(),w.strokeStyle="white",w.strokeRect(t.posX,t.posY,t.width,t.height)}))}()}]);