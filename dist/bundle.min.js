!function(t){var e={};function s(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(i,o,function(e){return t[e]}.bind(null,o));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){s(1),t.exports=s(2)},function(t,e,s){t.exports=s.p+"bundle.min.css"},function(t,e,s){"use strict";s.r(e);class i{constructor(t,e,s){this.displayGrid=!1,this.posX=t,this.posY=e,this.rad=s,this.dx=5,this.dy=5,this.color="rgb(102, 255, 51, 0.7)",this.routeType=0}move(){switch(this.routeType){case 1:this.posX+=this.dx,this.dy=0;break;case 2:this.posY+=this.dy,this.dx=0;break;default:this.posX+=this.dx,this.posY+=this.dy}}}class o{constructor(){this.posX=50,this.posY=50,this.dx=10,this.dy=10,this.width=50,this.height=50,this.color="white",this.alive=!0}}const n=document.querySelector("canvas");function r(){this.posX<=0&&(this.posX+=this.dx+10),this.posX>=n.width-this.width&&(this.posX-=this.dx+10),this.posY<=0&&(this.posY+=this.dy+10),this.posY>=n.height-this.height&&(this.posY-=this.dy+10)}function h(){for(let t in u.players){const e=u.players[t];a(e.posX+e.height/2,e.posY+e.height/2,this.posX,this.posY)<this.rad+e.width/2&&(this.color="red",e.color="red",e.alive=!1)}}function l(){(this.posX>n.width||this.posX<0)&&(this.dx=-this.dx),(this.posY>n.height||this.posY<0)&&(this.dy=-this.dy)}function a(t,e,s,i){let o=s-t,n=i-e;return Math.sqrt(o**2+n**2)}const d=document.querySelector("canvas");let p={running:!1,user:{points:10,pointsReward:30},hud:{displayGrid:!1,scoreHistory:[]},players:{player1:new o},enemys:[new i(200,200,25)],update(){for(let t in this.players){const e=this.players[t];e.alive||p.stop(),r.call(e)}for(let t of this.enemys)l.call(t),h.call(t),t.move()},startCoutingPoints(){window.pointTimer=setInterval(()=>{let t=this.user.points%100==0;this.user.points+=this.user.pointsReward,t&&(this.spawnEnemy(),this.user.pointsReward)},1e3)},spawnEnemy(){let t=[75,25],e=Math.random()*d.width,s=Math.random()*d.height,o=Math.random()*(t[0]-t[1])+t[1],n=!1;for(let t in this.players){n=!(a(t.posX,t.posY,e,s)>25+t.width+o)}n?this.enemys.push(new i(e,s,o))&&this.setEnemyRoutes():this.spawnEnemy()},setEnemyRoutes(){this.enemys.forEach((t,e)=>{t.routeType=e%5==0?0:e%2==0?1:2})},stop(){this.running=!1,clearInterval(pointTimer),this.hud.scoreHistory.push(`<p> Score: ${this.user.points} </p>`),this.user={points:10,pointsReward:30},this.enemys=[new i(200,200,25)],this.players.player1=new o}};var u=p;const c=document.querySelector("canvas"),y=document.querySelector("#button-start"),f=document.querySelector("#button-display-grid-collision"),m=(document.querySelector("#hud"),document.querySelector("#log")),g=document.querySelector("h2");let w=c.getContext("2d");c.width=800,c.height=600,c.style.backgroundColor="black",addEventListener("keydown",t=>{let e=u.players.player1;switch(t.key){case"w":e.posY-=e.dy;break;case"s":e.posY+=e.dy;break;case"a":e.posX-=e.dx;break;case"d":e.posX+=e.dx}}),y.addEventListener("click",()=>{u.pointsTimer||u.startCoutingPoints(),u.running||(u.running=!0)}),f.addEventListener("click",()=>{u.hud.displayGrid=!u.hud.displayGrid,u.hud.displayGrid?f.innerHTML="Turn Off":f.innerHTML="Display Grid"}),function t(){if(window.animationFrame=requestAnimationFrame(t),!u.running)return null;w.clearRect(0,0,c.width,c.height),u.update(),function(){g.innerHTML=u.user.points,m.innerHTML=u.hud.scoreHistory.join(" ");let t=u.players.player1;u.hud.displayGrid&&u.enemys.forEach(e=>{!function(t,e){let s=t.posX+t.height/2,i=t.posY+t.height/2;w.beginPath(),w.strokeStyle="white",w.moveTo(e.posX,e.posY),w.lineTo(s,i),w.stroke()}(t,e)})}();for(let t in u.players){const e=u.players[t];w.beginPath(),w.fillStyle=e.color,w.fillRect(e.posX,e.posY,e.width,e.height)}for(let t in u.enemys){const e=u.enemys[t];w.beginPath(),w.fillStyle=e.color,w.arc(e.posX,e.posY,e.rad,0,2*Math.PI),w.fill()}}()}]);